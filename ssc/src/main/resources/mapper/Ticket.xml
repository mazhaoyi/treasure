<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.treasure.ssc.dao.TicketDao">
    <insert id="insertBatch" parameterType="com.treasure.ssc.entity.Ticket">
        insert into ticket (
            ticket_no,
            ticket_num,
            ticket_date,
            bef3_max_count,
            mid3_max_count,
            aft3_max_count,
            max_count,
            line
        ) values
        <foreach collection="tickets" item="ticket" separator="," index="index">
        (
            #{ticket.ticketNo},
            #{ticket.ticketNum},
            #{ticket.ticketDate},
            #{ticket.bef3MaxCount},
            #{ticket.mid3MaxCount},
            #{ticket.aft3MaxCount},
            #{ticket.maxCount},
            #{ticket.line}
        )
        </foreach>
    </insert>
    <select id="getByNoAndDate" resultType="com.treasure.ssc.vo.SscOutVo">
        select
        ticket_id ticketId,
        ticket_no ticketNo,
        ticket_num ticketNum,
        ticket_date ticketDate,
        bef3_max_count bef3MaxCount,
        mid3_max_count mid3MaxCount,
        aft3_max_count aft3MaxCount,
        max_count maxCount,
        line
        <where>
            ticket_no = #{ticketNo}
            and ticket_date = #{ticketDate}
        </where>
    </select>
</mapper>