<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.treasure.ssc.dao.SscUserDao">
    <select id="getByUsername" resultType="com.treasure.ssc.entity.SscUser">
        select
            su.user_id userId,
            su.username,
            su.money,
            su.create_time createTime,
            su.update_time updateTime,
            su.now_no nowNo,
            su.now_date nowDate
        from ssc_user su where su.username = #{username}
    </select>
    <update id="updateByUsername">
        update ssc_user
        <set>
            <if test="sscUser.money != null">
                money = #{sscUser.money},
            </if>
            <if test="sscUser.updateTime != null">
                update_time = #{sscUser.updateTime},
            </if>
            <if test="sscUser.nowNo != null">
                now_no = #{sscUser.nowNo},
            </if>
            <if test="sscUser.nowDate != null">
                now_date = #{sscUser.nowDate}
            </if>
        </set>
        <where>
            username = #{sscUser.username}
        </where>
    </update>
</mapper>